import{aG as h,aH as A,$ as e,a0 as g,B as _,aq as b,aa as I,aI as L,ax as j,ay as i,aF as v}from"./index-V11n_3Xq.js";import{A as S}from"./index-CC9G8r5x.js";import{F as k}from"./Table-D8kubAVp.js";const r=({loanType:a})=>{const d=[{title:"Account Number",dataIndex:"account_number",key:"account_number"},{title:"Account Name",dataIndex:"account_name",key:"account_name"},{title:"Mobile Number",dataIndex:"phone",key:"phone"},{title:"Loan Amount",dataIndex:["request_body","prop_values","loan_amount"],key:"loan_amount"},{title:"Loan Amount",dataIndex:["request_body","prop_values","payback_period"],key:"payback_period",render:t=>`${t} years`},{title:"Request channel",dataIndex:["request_body","channel"],key:"channel"},{title:"Status",dataIndex:"status",key:"status",filters:[{text:"Initiated",value:"INITIATED"},{text:"Submitted",value:"SUBMITTED"},{text:"Completed",value:"COMPLETED"}]},{title:"Requested At",dataIndex:"created_at",key:"created_at",render:t=>new Date(t).toLocaleDateString()},{title:"Action",dataIndex:"",key:"x",render:t=>t.status==="SUBMITTED"?e.jsx(_,{type:"primary",onClick:()=>m(t.id),disabled:s,loading:s,children:"Approve"}):e.jsx("a",{children:"View"})}],{data:o,isLoading:l,isError:c,error:u,refetch:p}=h({request_type:a}),[x,{isLoading:s}]=A(),y=o?.data?.data||[];if(l)return e.jsx("div",{style:{textAlign:"center",padding:"50px"},children:e.jsx(g,{size:"large"})});if(c)return e.jsx(S,{message:"Error",description:u?.toString()||"An error occurred while fetching data.",type:"error",showIcon:!0});const m=t=>{x({id:t}).unwrap().then(n=>{b(n.message),p()}).catch(n=>{I(n.message)})};return e.jsx("div",{children:e.jsx(k,{columns:d,dataSource:y,rowKey:"id",bordered:!0,pagination:{pageSize:10,total:o?.data.total,showSizeChanger:!1}})})},T=a=>{console.log(a)},R=[{key:"1",label:"Home Loan",children:e.jsx(r,{loanType:"HOME_LOAN"})},{key:"2",label:"Gold Loan",children:e.jsx(r,{loanType:"GOLD_LOAN"})},{key:"3",label:"Loan Against Share",children:e.jsx(r,{loanType:"LOAN_AGAINST_SHARE"})}],f=()=>e.jsx(L,{defaultActiveKey:"1",items:R,onChange:T}),w=()=>e.jsxs(j,{children:[e.jsx(i,{path:"",element:e.jsx(f,{})}),e.jsx(i,{path:"*",element:e.jsx(v,{to:"."})})]});export{w as LoanRoutes};
//# sourceMappingURL=index-BXMkAssc.js.map
