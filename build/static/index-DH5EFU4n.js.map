{"version":3,"file":"index-DH5EFU4n.js","sources":["../../src/pages/tellerServices/routes/CashDeposit.tsx","../../src/pages/tellerServices/routes/ChequeDeposit.tsx","../../src/pages/tellerServices/routes/TellerServiceRequest.tsx","../../src/pages/tellerServices/routes/index.tsx"],"sourcesContent":["import { useApproveRequestMutation, useFetchServiceListQuery } from \"@/store/apis/coreApi\";\nimport { displayError, displaySuccess } from \"@/utils/displayMessageUtils\";\nimport { Alert, Button, Spin, Table } from \"antd\";\nimport { ColumnsType } from 'antd/es/table';\n\ninterface ServiceRequest {\n  id: number; // Assuming each result has a unique 'id'\n  account_number: string;\n  status: string;\n  created_at: string;\n  // Add other fields based on your actual data structure\n}\n\n\n\nconst CashDeposit: React.FC = () => {\n  \n  const columns: ColumnsType<ServiceRequest> = [\n    // {\n    //   title: 'ID',\n    //   dataIndex: 'id',\n    //   key: 'id',\n  \n    // },\n    {\n      title: 'Account Number',\n      dataIndex: 'account_number',\n      key: 'account_number'\n    },\n    {\n      title: 'Account Name',\n      dataIndex:\"account_name\",\n      key: 'account_name'\n    },\n    {\n      title: 'Email',\n      dataIndex: \"email\",\n      key: 'email'\n    },\n    {\n      title: 'Mobile Number',\n      dataIndex:\"phone\",\n      key: 'phone'\n    },\n    {\n      title: 'Request channel',\n      dataIndex: [\"request_body\",\"channel\"],\n      key: 'channel'\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n      filters: [\n        { text: 'Initiated', value: 'INITIATED' },\n        { text: 'Submitted', value: 'SUBMITTED' },\n        { text: 'Completed', value: 'COMPLETED' },\n      ],\n  \n    },\n    \n    {\n      title: 'Requested At',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (date: string) => new Date(date).toLocaleDateString(),\n    },\n    {\n      title: 'Action',\n      dataIndex: '',\n      key: 'x',\n      render: (value) => {\n        if( value.status === 'SUBMITTED') {\n          return <Button type=\"primary\" onClick={() => handleServiceApprove(value.id)} disabled={approveRequestLoading} loading={approveRequestLoading}>Approve</Button>\n        } else {\n          return <a>View</a>\n        }\n        \n      },\n    },\n    // Add more columns as needed\n  ];\n\n  const { data: serviceResponse, isLoading, isError, error, refetch } = useFetchServiceListQuery({\n    // service_name: \"MOBILE_BANKING\",\n    request_type: \"CASH_DEPOSIT\",\n  });\n  const [approveRequest, {isLoading: approveRequestLoading }] = useApproveRequestMutation();\n\n  // Extract the results array or set it to an empty array if data is undefined\n  const tableData: ServiceRequest[] = serviceResponse?.data?.data || [];\n\n  // Handle loading state\n  if (isLoading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '50px' }}>\n        <Spin size=\"large\" />\n      </div>\n    );\n  }\n\n  // Handle error state\n  if (isError) {\n    return (\n      <Alert\n        message=\"Error\"\n        description={error?.toString() || \"An error occurred while fetching data.\"}\n        type=\"error\"\n        showIcon\n      />\n    );\n  }\n  const handleServiceApprove = (id:number) => {\n\n    approveRequest({id}).unwrap()\n    .then((res) => {\n      displaySuccess(res.message)\n      refetch();\n    }).catch((err) => {\n      displayError(err.message)\n    });\n  }\n  return (\n    <div>\n      {/* <Typography.Title level={4}>New Mobank Registration</Typography.Title> */}\n      <Table\n        columns={columns}\n        dataSource={tableData}\n        rowKey=\"id\" // Ensure each row has a unique key\n        bordered\n        pagination={{\n          pageSize: 10, // Adjust page size as needed\n          total: serviceResponse?.data.total, // Total number of records\n          showSizeChanger: false, // Hide page size changer if not needed\n        }}\n        // Optional: Add more table props like onChange for sorting/filtering\n      />\n    </div>\n  );\n};\n\nexport default CashDeposit;","import { useApproveRequestMutation, useFetchServiceListQuery } from \"@/store/apis/coreApi\";\nimport { displayError, displaySuccess } from \"@/utils/displayMessageUtils\";\nimport { Alert, Button, Spin, Table } from \"antd\";\nimport { ColumnsType } from 'antd/es/table';\n\ninterface ServiceRequest {\n  id: number; // Assuming each result has a unique 'id'\n  account_number: string;\n  status: string;\n  created_at: string;\n  // Add other fields based on your actual data structure\n}\n\n\n\nconst ChequeDeposit: React.FC = () => {\n  \n  const columns: ColumnsType<ServiceRequest> = [\n    // {\n    //   title: 'ID',\n    //   dataIndex: 'id',\n    //   key: 'id',\n  \n    // },\n    {\n      title: 'Account Number',\n      dataIndex: 'account_number',\n      key: 'account_number'\n    },\n    {\n      title: 'Account Name',\n      dataIndex:\"account_name\",\n      key: 'account_name'\n    },\n    {\n      title: 'Email',\n      dataIndex: \"email\",\n      key: 'email'\n    },\n    {\n      title: 'Mobile Number',\n      dataIndex:\"phone\",\n      key: 'phone'\n    },\n    {\n      title: 'Request channel',\n      dataIndex: [\"request_body\",\"channel\"],\n      key: 'channel'\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n      key: 'status',\n      filters: [\n        { text: 'Initiated', value: 'INITIATED' },\n        { text: 'Submitted', value: 'SUBMITTED' },\n        { text: 'Completed', value: 'COMPLETED' },\n      ],\n  \n    },\n    \n    {\n      title: 'Requested At',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      render: (date: string) => new Date(date).toLocaleDateString(),\n    },\n    {\n      title: 'Action',\n      dataIndex: '',\n      key: 'x',\n      render: (value) => {\n        if( value.status === 'SUBMITTED') {\n          return <Button type=\"primary\" onClick={() => handleServiceApprove(value.id)} disabled={approveRequestLoading} loading={approveRequestLoading}>Approve</Button>\n        } else {\n          return <a>View</a>\n        }\n        \n      },\n    },\n    // Add more columns as needed\n  ];\n\n  const { data: serviceResponse, isLoading, isError, error, refetch } = useFetchServiceListQuery({\n    // service_name: \"MOBILE_BANKING\",\n    request_type: \"CHEQUE_DEPOSIT\",\n  });\n  const [approveRequest, {isLoading: approveRequestLoading }] = useApproveRequestMutation();\n\n  // Extract the results array or set it to an empty array if data is undefined\n  const tableData: ServiceRequest[] = serviceResponse?.data?.data || [];\n\n  // Handle loading state\n  if (isLoading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '50px' }}>\n        <Spin size=\"large\" />\n      </div>\n    );\n  }\n\n  // Handle error state\n  if (isError) {\n    return (\n      <Alert\n        message=\"Error\"\n        description={error?.toString() || \"An error occurred while fetching data.\"}\n        type=\"error\"\n        showIcon\n      />\n    );\n  }\n  const handleServiceApprove = (id:number) => {\n\n    approveRequest({id}).unwrap()\n    .then((res) => {\n      displaySuccess(res.message)\n      refetch();\n    }).catch((err) => {\n      displayError(err.message)\n    });\n  }\n  return (\n    <div>\n      {/* <Typography.Title level={4}>New Mobank Registration</Typography.Title> */}\n      <Table\n        columns={columns}\n        dataSource={tableData}\n        rowKey=\"id\" // Ensure each row has a unique key\n        bordered\n        pagination={{\n          pageSize: 10, // Adjust page size as needed\n          total: serviceResponse?.data.total, // Total number of records\n          showSizeChanger: false, // Hide page size changer if not needed\n        }}\n        // Optional: Add more table props like onChange for sorting/filtering\n      />\n    </div>\n  );\n};\n\nexport default ChequeDeposit;","import React from 'react';\nimport { Tabs } from 'antd';\nimport type { TabsProps } from 'antd';\nimport CashDeposit from './CashDeposit';\nimport ChequeDeposit from './ChequeDeposit';\n\nconst onChange = (key: string) => {\n  console.log(key);\n};\n\nconst items: TabsProps['items'] = [\n  {\n    key: '1',\n    label: 'Cash Deposit',\n    children: <CashDeposit />,\n  },\n  {\n    key: '2',\n    label: 'Cheque Deposit',\n    children: <ChequeDeposit />,\n  }\n];\n\nconst TellerServiceRequest: React.FC = () => <Tabs defaultActiveKey=\"1\" items={items} onChange={onChange} />;\n\nexport default TellerServiceRequest;","import { Navigate, Route, Routes } from 'react-router-dom';\nimport CashDeposit from './CashDeposit';\nimport ChequeDeposit from './ChequeDeposit';\nimport TellerServiceRequest from './TellerServiceRequest';\n\n\nexport const TellerRoutes = () => {\n    return (\n      <Routes>\n        <Route path=\"\" element={<TellerServiceRequest />} />\n        <Route path=\"cash-deposit\" element={<CashDeposit />} />\n        <Route path=\"cheque-deposit\" element={<ChequeDeposit />} />\n        <Route path=\"*\" element={<Navigate to=\".\" />} />\n      </Routes>\n    );\n  };"],"names":["CashDeposit","columns","date","value","jsx","Button","handleServiceApprove","approveRequestLoading","serviceResponse","isLoading","isError","error","refetch","useFetchServiceListQuery","approveRequest","useApproveRequestMutation","tableData","Spin","Alert","id","res","displaySuccess","err","displayError","Table","ChequeDeposit","onChange","key","items","TellerServiceRequest","Tabs","TellerRoutes","Routes","Route","Navigate"],"mappings":"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"}